{"version":3,"file":"static/js/607.b96e58ce.chunk.js","mappings":"oSAEaA,EAAOC,EAAAA,GAAAA,GAAH,uEAIJC,EAAOD,EAAAA,GAAAA,GAAH,gDAGJE,EAAQF,EAAAA,GAAAA,GAAH,oEAILG,EAAQH,EAAAA,GAAAA,EAAH,6CAGLI,EAAWJ,EAAAA,GAAAA,EAAH,uC,SCuDrB,EAjEgB,WACd,OAA8BK,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QA2BR,OAzBAE,EAAAA,EAAAA,YAAU,WACRL,GAAS,GACTE,GAAa,GAEb,IAAMI,EAAY,mCAAG,8GAEKC,EAAAA,EAAAA,IAAWJ,GAFhB,UAIc,KAFzBN,EAFW,QAILW,QAAQC,OAJH,gCAKFC,QAAQC,OAAO,IAAIC,MAAJ,kBALb,+CAOjBd,EAAWD,EAAQW,SAPF,kDASjBR,GAAS,GATQ,yBAWjBE,GAAa,GAXI,6EAAH,qDAgBlB,OAFAI,IAEO,WAEN,CACF,GAAE,CAACH,KAGF,gCACGF,IACC,SAAC,KAAD,CACEY,OAAO,MACPC,MAAM,MACNC,MAAM,UACNC,UAAU,YACVC,aAAc,CAAC,EACfC,aAAa,GACbC,SAAS,EACTC,eAAe,GACfC,gBAAgB,GAChBC,cAAc,MAGlB,UAAChC,EAAD,WACGS,IACC,SAACP,EAAD,WACE,SAACG,EAAD,wDADS,YAIZE,GACoB,IAAnBA,EAAQY,QACRZ,EAAQ0B,KAAI,WAA4CC,GAA5C,IAAGC,EAAH,EAAGA,QAA2BC,EAA9B,EAAYC,eAAkBD,SAA9B,OACV,UAAClC,EAAD,YACE,SAACC,EAAD,2BAAkBiC,MAClB,SAAChC,EAAD,UAAQ+B,MAFCD,EADD,SASrB,C,mMCrEKI,EAAU,mCAChBC,EAAAA,EAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAY,mCAAG,WAAMC,GAAN,gGAELF,EAAAA,EAAAA,IAAU,qBAAsB,CACjDE,OAAAA,EACAC,OAAQ,CACNC,QAASL,KALW,cAElBM,EAFkB,yBASjBA,EAAKC,MATY,gCAWxBC,QAAQC,IAAR,MAXwB,yDAAH,sDAeZC,EAAQ,mCAAG,WAAMC,GAAN,gGAEDV,EAAAA,EAAAA,IAAA,gBAAmBU,GAAM,CAC1CP,OAAQ,CACNC,QAASL,KAJO,cAEdM,EAFc,yBAQbA,EAAKC,MARQ,gCAUpBC,QAAQC,IAAR,MAVoB,yDAAH,sDAcRG,EAAS,mCAAG,WAAMD,GAAN,gGAEFV,EAAAA,EAAAA,IAAA,gBAAmBU,EAAnB,YAAiC,CAClDP,OAAQ,CACNC,QAASL,KAJQ,cAEfM,EAFe,yBAQdA,EAAKC,MARS,gCAUrBC,QAAQC,IAAR,MAVqB,yDAAH,sDAcT9B,EAAU,mCAAG,WAAMgC,GAAN,gGAEHV,EAAAA,EAAAA,IAAA,gBAAmBU,EAAnB,YAAiC,CAClDP,OAAQ,CACNC,QAASL,KAJS,cAEhBM,EAFgB,yBAQfA,EAAKC,MARU,gCAUtBC,QAAQC,IAAR,MAVsB,yDAAH,sDAcVI,EAAS,mCAAG,WAAOC,EAAOX,GAAd,gGAEFF,EAAAA,EAAAA,IAAA,kBAGjBE,EACA,CACEC,OAAQ,CACNC,QAASL,EACTc,MAAAA,KATe,cAEfR,EAFe,yBAcdA,EAAKC,MAdS,gCAgBrBC,QAAQC,IAAR,MAhBqB,yDAAH,uD","sources":["components/Reviews/Reviews.styled.js","components/Reviews/Reviews.jsx","services/MoviesAPI.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  padding-left: 32px;\n  padding-right: 32px;\n`;\nexport const Item = styled.li`\n  margin-bottom: 24px;\n`;\nexport const Title = styled.h3`\n  margin-bottom: 16px;\n  font-size: 20px;\n`;\nexport const Descr = styled.p`\n  line-height: 1.2;\n`;\nexport const NotFound = styled.p`\n  color: red;\n`;\n","import { useEffect, useState } from 'react';\nimport { LineWave } from 'react-loader-spinner';\nimport { useParams } from 'react-router-dom';\nimport { getReviews } from 'services/MoviesAPI';\nimport { List, Item, Title, Descr, NotFound } from './Reviews.styled';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState(null);\n  const [error, setError] = useState(false);\n  const [isLoading, setIsloading] = useState(false);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setError(false);\n    setIsloading(true);\n\n    const fetchReviews = async () => {\n      try {\n        const reviews = await getReviews(movieId);\n\n        if (reviews.results.length === 0) {\n          return await Promise.reject(new Error(`\" Not found \"`));\n        }\n        setReviews(reviews.results);\n      } catch (error) {\n        setError(true);\n      } finally {\n        setIsloading(false);\n      }\n    };\n    fetchReviews();\n\n    return () => {\n      //abort fetch\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      {isLoading && (\n        <LineWave\n          height=\"100\"\n          width=\"100\"\n          color=\"#4fa94d\"\n          ariaLabel=\"line-wave\"\n          wrapperStyle={{}}\n          wrapperClass=\"\"\n          visible={true}\n          firstLineColor=\"\"\n          middleLineColor=\"\"\n          lastLineColor=\"\"\n        />\n      )}\n      <List>\n        {error && (\n          <Item key={'notFound'}>\n            <NotFound>There is no information about this film.</NotFound>\n          </Item>\n        )}\n        {reviews &&\n          reviews.length !== 0 &&\n          reviews.map(({ content, author_details: { username } }, index) => (\n            <Item key={index}>\n              <Title>{`Author ${username}`}</Title>\n              <Descr>{content}</Descr>\n            </Item>\n          ))}\n      </List>\n    </>\n  );\n};\nexport default Reviews;\n","import axios from 'axios';\nconst API_KEY = '6b1b36ecf2f3f3c0d27307e18cbffcb3';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getMovieList = async signal => {\n  try {\n    const resp = await axios.get('trending/movie/day', {\n      signal,\n      params: {\n        api_key: API_KEY,\n      },\n    });\n\n    return resp.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovie = async id => {\n  try {\n    const resp = await axios.get(`movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n\n    return resp.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getActors = async id => {\n  try {\n    const resp = await axios.get(`movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n\n    return resp.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getReviews = async id => {\n  try {\n    const resp = await axios.get(`movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n\n    return resp.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovies = async (query, signal) => {\n  try {\n    const resp = await axios.get(\n      `\n/search/movie`,\n      signal,\n      {\n        params: {\n          api_key: API_KEY,\n          query,\n        },\n      }\n    );\n\n    return resp.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["List","styled","Item","Title","Descr","NotFound","useState","reviews","setReviews","error","setError","isLoading","setIsloading","movieId","useParams","useEffect","fetchReviews","getReviews","results","length","Promise","reject","Error","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","firstLineColor","middleLineColor","lastLineColor","map","index","content","username","author_details","API_KEY","axios","getMovieList","signal","params","api_key","resp","data","console","log","getMovie","id","getActors","getMovies","query"],"sourceRoot":""}